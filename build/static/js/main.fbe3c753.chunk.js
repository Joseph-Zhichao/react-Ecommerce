(this.webpackJsonpecommerce=this.webpackJsonpecommerce||[]).push([[0],{44:function(e,t,n){e.exports=n(87)},49:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(15),o=n.n(c),l=(n(49),n(9)),u=n(40),i=n(18),s=n(4),m=n(28),d=n(11),h=n.n(d),p=n(20),f=n(35),E=n(36),b=n(42),C=n(41),v=n(37),k=n.n(v),g=a.a.createContext(),x=k.a.buildClient({storefrontAccessToken:"dd4d4dc146542ba7763305d71d1b3d38",domain:"graphql.myshopify.com"}),w=function(e){Object(b.a)(n,e);var t=Object(C.a)(n);function n(){var e;Object(f.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={products:[],product:{},checkout:{},isCartOpen:!1},e.createCheckout=Object(p.a)(h.a.mark((function t(){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.checkout.create();case 2:n=t.sent,localStorage.setItem("checkout",n.id),e.setState({checkout:n});case 5:case"end":return t.stop()}}),t)}))),e.fetchCheckout=function(){var t=Object(p.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:x.checkout.fetch(n).then((function(t){e.setState({checkout:t})})).catch((function(e){return console.log(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.addItemToCheckout=function(){var t=Object(p.a)(h.a.mark((function t(n,r){var a,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[{variantId:n,quantity:parseInt(r,10)}],t.next=3,x.checkout.addLineItems(e.state.checkout.id,a);case 3:c=t.sent,e.setState({checkout:c}),e.openCart();case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.fetchAllProducts=Object(p.a)(h.a.mark((function t(){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.product.fetchAll();case 2:n=t.sent,e.setState({products:n});case 4:case"end":return t.stop()}}),t)}))),e.fetchProductWithId=function(){var t=Object(p.a)(h.a.mark((function t(n){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.product.fetch(n);case 2:return r=t.sent,e.setState({product:r}),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.closeCart=function(){e.setState({isCartOpen:!1})},e.openCart=function(){e.setState({isCartOpen:!0})},e}return Object(E.a)(n,[{key:"componentDidMount",value:function(){localStorage.checkout?this.fetchCheckout(localStorage.checkout):this.createCheckout()}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(g.Provider,{value:Object(m.a)(Object(m.a)({},this.state),{},{fetchAllProducts:this.fetchAllProducts,fetchProductWithId:this.fetchProductWithId,closeCart:this.closeCart,openCart:this.openCart,addItemToCheckout:this.addItemToCheckout})},this.props.children))}}]),n}(r.Component),I=(g.Consumer,w),y=n(1),O=function(){var e=Object(r.useContext)(g),t=e.fetchAllProducts,n=e.products;return Object(r.useEffect)((function(){return t(),function(){}}),[t]),n?a.a.createElement(y.Container,null,a.a.createElement(y.Row,null,n.map((function(e){return a.a.createElement(y.Col,{key:e.id,size:"3"},a.a.createElement(i.b,{to:"/product/".concat(e.id)},a.a.createElement(y.Div,{p:"2rem"},a.a.createElement(y.Div,{h:"20rem",bgImg:e.images[0].src,bgSize:"cover",bgPos:"center center"}),a.a.createElement(y.Text,null,e.title),a.a.createElement(y.Text,null,e.variants[0].price))))})))):a.a.createElement("div",null,"loading")},j=function(){var e=Object(s.f)().id,t=Object(r.useContext)(g),n=t.addItemToCheckout,c=t.fetchProductWithId,o=t.product;t.openCart;return Object(r.useEffect)((function(){return c(e),function(){}}),[c,e]),o.title?a.a.createElement(y.Container,null,a.a.createElement(y.Row,null,a.a.createElement(y.Col,null,a.a.createElement(y.Div,{bgImg:o.images[0].src,bgSize:"cover",bgPos:"center center",h:"40rem"})),a.a.createElement(y.Col,null,a.a.createElement(y.Text,null,o.title),a.a.createElement(y.Text,null,"$",o.variants[0].price),a.a.createElement(y.Text,{tag:"p",textSize:"paragraph",textColor:"gray900",textWeight:"200"},o.description),a.a.createElement(y.Button,{rounded:"0",shadow:"3",bg:"black500",m:{y:"2rem"},onClick:function(){return n(o.variants[0].id,1)}},"Add To Cart")))):a.a.createElement("div",null,"loading")},S=function(){var e=Object(r.useContext)(g).openCart;return a.a.createElement(y.Container,{d:"flex",flexDir:"row",p:"2rem",justify:"space-between"},a.a.createElement(i.b,{to:"/"},a.a.createElement(y.Icon,{name:"Store",size:"30px",color:"black500"})),a.a.createElement(y.Anchor,{onClick:function(){return e()}},a.a.createElement(y.Icon,{name:"Bag",size:"20px",color:"black500"})))},T=function(){var e=Object(r.useContext)(g),t=e.isCartOpen,n=e.closeCart,c=e.checkout;return c.lineItems?a.a.createElement(y.SideDrawer,{isOpen:t,onClose:n},a.a.createElement(y.Container,{d:"flex",flexDir:"column",h:"100%"},a.a.createElement(y.Row,{justify:"space-between",border:{b:"1px solid"},p:"0.7rem",borderColor:"gray300"},a.a.createElement(y.Text,{tag:"h1",textColor:"black500",textSize:"paragraph",hoverTextColor:"black700",transition:"0.3s"},"Bag"),a.a.createElement(y.Anchor,{onClick:function(){return n()}},a.a.createElement(y.Icon,{name:"Cross",color:"black500"}))),a.a.createElement(y.Row,{flexGrow:"2",p:"0.7rem",overflow:"auto",flexWrap:"nowrap",flexDir:"column"},c.lineItems.length<1?a.a.createElement(y.Row,null,a.a.createElement(y.Col,null,a.a.createElement(y.Text,{tag:"h1",textColor:"black500",textSize:"paragraph",hoverTextColor:"black700",transition:"0.3s"},"Cart Is Empty"))):a.a.createElement(a.a.Fragment,null,c.lineItems&&c.lineItems.map((function(e){return a.a.createElement(y.Row,{key:e.id,p:{t:"5px"}},a.a.createElement(y.Col,null,a.a.createElement(y.Div,{bgImg:e.variant.image.src,bgSize:"cover",bgPos:"center",h:"5rem",w:"4rem"})),a.a.createElement(y.Col,null,a.a.createElement(y.Text,null,e.title),a.a.createElement(y.Text,null,e.variant.title),a.a.createElement(y.Text,null,e.quantity)),a.a.createElement(y.Col,null,a.a.createElement(y.Text,null,e.variant.price)))})))),a.a.createElement(y.Row,{border:{t:"1px solid"},p:"0.7rem",borderColor:"gray300"},a.a.createElement(y.Anchor,{w:"100%",href:c.webUrl,target:"_blank",rel:"noopener noreferrer"},a.a.createElement(y.Button,{w:"100%",rounded:"0",bg:"black500",shadow:"2",hoverShadow:"3",m:{t:"1rem"}},"Checkout"))))):null},P=new u.a;var A=function(){return a.a.createElement(I,null,a.a.createElement(l.Provider,{value:P,debug:void 0,debugAfterHydration:!0},a.a.createElement(i.a,null,a.a.createElement(S,null),a.a.createElement(T,null),a.a.createElement(s.c,null,a.a.createElement(s.a,{path:"/product/:id"},a.a.createElement(j,null)),a.a.createElement(s.a,{path:"/"},a.a.createElement(O,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[44,1,2]]]);
//# sourceMappingURL=main.fbe3c753.chunk.js.map